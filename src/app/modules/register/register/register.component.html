<div class="w-full h-screen bg-slate-200 flex justify-center items-center">
  <div>
    <h4 class="text-2xl text-center mb-5">Library Management Application</h4>
    <form class="form mt-10" [formGroup]="registerForm" (submit)="register(registerForm)">
      <div class="flex justify-center items-center">
        <h4 class="font-bold text-2xl">Register</h4>
      </div>

      <div class="flex-column">
        <label>Username</label>
        <div class="inputForm">
          <input type="text" class="input" placeholder="Enter your Username" formControlName="username">
        </div>
        @if(registerForm.get('username')?.invalid && registerForm.get('username')?.touched){
        @if(registerForm.get('username')?.hasError('required')){
        <mat-error>username is required</mat-error>
        }
        }
      </div>

      <div>
        <label>Email</label>
        <div class="inputForm">
          <input type="email" class="input" placeholder="Enter your Email" formControlName="email">
        </div>
        @if(registerForm.get('email')?.invalid && registerForm.get('email')?.touched){
        @if(registerForm.get('email')?.hasError('required')){
        <mat-error>Email is required</mat-error>
        }
        @if(registerForm.get('email')?.hasError('email')){
        <mat-error>Invalid email format</mat-error>
        }
        }
      </div>

      <div class="flex-column">
        <label>Password</label>
        <div class="inputForm">
          <input [type]="inputTypeForPassword" class="input" placeholder="Enter your Password"
            formControlName="password">
          <span class="cursor-pointer" (click)="togglePasswordVisibility()">
            <svg viewBox="0 0 576 512" height="1em" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z">
              </path>
            </svg> </span>
          </div>
          @if(registerForm.get('password')?.invalid && registerForm.get('password')?.touched){
          @if(registerForm.get('password')?.hasError('required')){
          <mat-error>password is required</mat-error>
          }
          }
      </div>

      <div class="flex-column" [class.disabled]="!registerForm.get('password')?.value">
        <label>Confirm Password</label>
        <div class="inputForm">
          <input [type]="inputTypeForConfirmPassword" class="input" placeholder="Confirm your Password"
            formControlName="confirmPassword" [class.disabled]="!registerForm.get('password')?.value">
          <span class="cursor-pointer" (click)="toggleConfirmPasswordVisibility()">
            <svg viewBox="0 0 576 512" height="1em" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M288 32c-80.8 0-145.5 36.8-192.6 80.6C48.6 156 17.3 208 2.5 243.7c-3.3 7.9-3.3 16.7 0 24.6C17.3 304 48.6 356 95.4 399.4C142.5 443.2 207.2 480 288 480s145.5-36.8 192.6-80.6c46.8-43.5 78.1-95.4 93-131.1c3.3-7.9 3.3-16.7 0-24.6c-14.9-35.7-46.2-87.7-93-131.1C433.5 68.8 368.8 32 288 32zM144 256a144 144 0 1 1 288 0 144 144 0 1 1 -288 0zm144-64c0 35.3-28.7 64-64 64c-7.1 0-13.9-1.2-20.3-3.3c-5.5-1.8-11.9 1.6-11.7 7.4c.3 6.9 1.3 13.8 3.2 20.7c13.7 51.2 66.4 81.6 117.6 67.9s81.6-66.4 67.9-117.6c-11.1-41.5-47.8-69.4-88.6-71.1c-5.8-.2-9.2 6.1-7.4 11.7c2.1 6.4 3.3 13.2 3.3 20.3z">
              </path>
            </svg>
          </span>
        </div>
        @if(registerForm.get('confirmPassword')?.invalid && registerForm.get('confirmPassword')?.touched){
        @if(registerForm.get('confirmPassword')?.hasError('required')){
        <mat-error>password is required</mat-error>
        }
      }
      @else if(registerForm.get('confirmPassword')?.value !== registerForm.get('password')?.value && registerForm.get('confirmPassword')?.touched){
      <mat-error>Passwords do not match</mat-error>
      }
      </div>

      <div class="flex-column">
        <label>Role</label>
        <select class="input" formControlName="role">
          <option value="user">User</option>
          <option value="admin">Admin</option>
        </select>
      </div>
      @if(registerForm.get('role')?.invalid && registerForm.get('role')?.touched){
      @if(registerForm.get('role')?.hasError('required')){
      <mat-error>role is required</mat-error>
      }
      }

      <button type="submit" class="button-submit" >Sign Up</button>
      <p class="p">Already have an account? <span class="span" (click)="goToLogin()">Sign In</span></p>
    </form>
  </div>
</div>