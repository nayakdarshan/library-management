<div class="modal-header">
    <h2 class="modal-title w-100 text-center">Borrowings for {{ userName }}</h2>
    <button type="button" class="close" (click)="closeModal()" aria-label="Close">
        <span>&times;</span>
    </button>
</div>

<div class="modal-body">
    <mat-tab-group>
        <mat-tab label="Borrowed Books">
            <table class="table">
                <thead>
                    <tr>
                        <th>Book Name</th>
                        <th>Borrow Date</th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container *ngIf="borrowedBooks.length; else noBorrowings">
                        <tr *ngFor="let book of borrowedBooks; let i = index">
                            <td>{{ book.name }}</td>
                            <td>{{ book.borrowDate | date }}</td>
                        </tr>
                    </ng-container>
                    <ng-template #noBorrowings>
                        <tr>
                            <td colspan="2" class="text-center">No borrowings</td>
                        </tr>
                    </ng-template>
                </tbody>
            </table>
        </mat-tab>
        
        <mat-tab label="Returned Books">
            <table class="table">
                <thead>
                    <tr>
                        <th>Book Name</th>
                        <th>Return Date</th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container *ngIf="returnedBooks.length; else noReturnedBooks">
                        <tr *ngFor="let book of returnedBooks; let i = index">
                            <td>{{ book.name? book.name : 'N/A' }}</td>
                            <td>{{ book.returnDate | date }}</td>
                        </tr>
                    </ng-container>
                    <ng-template #noReturnedBooks>
                        <tr>
                            <td colspan="2" class="text-center">No returned books</td>
                        </tr>
                    </ng-template>
                </tbody>
            </table>
        </mat-tab>
    </mat-tab-group>
</div>

<div class="modal-footer">
    <button type="button" class="btn btn-secondary" (click)="closeModal()">Close</button>
</div>
